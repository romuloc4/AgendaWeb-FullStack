@model AgendaWeb.Presentation.Models.DashboardViewModel

@{
    var dataInicio = Convert.ToDateTime(Model.DataInicio);
    var dataFim = Convert.ToDateTime(Model.DataFim);
}

<div class="row mb-3">
    <div class="col-md-12">
        <h3>Seja bem vindo a <strong>Agenda Web</strong></h3>
    </div>
</div>

<div class="row mb-3">
    <div class="col-md-12">
        Perído de datas de: <strong>@dataInicio.ToString("dd/MM/yyyy")</strong>
        até: <strong>@dataFim.ToString("dd/MM/yyyy")</strong>
    </div>
</div>

<div class="row mb-2">
    <div class="col-md-6">
        <strong>Quantidade de eventos por prioridade</strong>
    </div>
    <div class="col-md-6">
        <strong>Quantidade de eventos ativos e inativos</strong>
    </div>
</div>

<div class="row mb-3">
<div class="col-md-2">
    <div class="card card-body bg-danger text-white">
        <div class="row">
            <div class="col-md-9">
                Alta:
            </div>
            <div class="col-md-3">
                <h5><strong>@Model.TotalPrioridadeAlta</strong></h5>
            </div>
        </div>
    </div>
</div>
<div class="col-md-2">
    <div class="card card-body bg-warning text-white">
        <div class="row">
            <div class="col-md-9">
                Média:
            </div>
            <div class="col-md-3">
                <h5><strong>@Model.TotalPrioridadeMedia</strong></h5>
            </div>
        </div>
    </div>
</div>
<div class="col-md-2">
    <div class="card card-body bg-success text-white">
        <div class="row">
            <div class="col-md-9">
                Baixa:
            </div>
            <div class="col-md-3">
                <h5><strong>@Model.TotalPrioridadeBaixa</strong></h5>
            </div>
        </div>
    </div>
</div>
<div class="col-md-3">
    <div class="card card-body bg-primary text-white">
        <div class="row">
            <div class="col-md-9">
                Eventos Ativos:
            </div>
            <div class="col-md-3">
                <h5><strong>@Model.TotalAtivos</strong></h5>
            </div>
        </div>
    </div>
</div>
<div class="col-md-3">
    <div class="card card-body bg-secondary text-white">
        <div class="row">
            <div class="col-md-9">
                Eventos Inativos:
            </div>
            <div class="col-md-3">
                <h5><strong>@Model.TotalInativos</strong></h5>
            </div>
        </div>
    </div>
</div>
</div>

<!--desenvolvendo os gráficos-->
<div class="row mb-5">
    <div class="col-md-6">
        <figure class="highcharts-figure">
            <div id="graficoPrioridades"></div>
        </figure>
    </div>
    <div class="col-md-6">
        <div id="graficoAtivosInativos"></div>
    </div>
</div>

<!--referencia do highchars-->
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/highcharts-3d.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>




<script>

    //Gráfico de eventos por prioridade 
    var arrayPrioridade = [];

    arrayPrioridade.push(['ALTA', @Model.TotalPrioridadeAlta]);
    arrayPrioridade.push(['MEDIA', @Model.TotalPrioridadeMedia]);
    arrayPrioridade.push(['BAIXA', @Model.TotalPrioridadeBaixa]);

Highcharts.chart({
    chart: {
        type: 'pie',
        renderTo: 'graficoPrioridades'
    },
    title: {
        text: 'Quantidade de eventos por prioridade',
    },

    plotOptions: {
        pie:{
            innerSize:'60%',
             dataLabels: {
                enable: true
            },
            showInLegend: true
        },
        series: {
            dataLabels: {
                enabled: true,
                format: '{point.name}: {point.y:.1f}'
            }
        }
    },

    credits: {
        enabled: false
    },

    series:[{
        data: arrayPrioridade
    }],
    colors: ['#d9534f','#f0ad4e', '#5cb85c']
});

    //Gráfico de eventos Ativos e Inativos
    var arrayAtivosInativos = [];

    arrayAtivosInativos.push(['ATIVO', @Model.TotalAtivos]);
    arrayAtivosInativos.push(['INATIVO', @Model.TotalInativos]);

    Highcharts.chart({
    chart: {
        type: 'pie',
        renderTo: 'graficoAtivosInativos'
    },
    title: {
        text: 'Quantidade de eventos Ativos / Inativos',
    },

    plotOptions: {
        pie:{
            innerSize:'60%',
             dataLabels: {
                enable: true
            },
            showInLegend: true
        },
        series: {
            dataLabels: {
                enabled: true,
                format: '{point.name}: {point.y:.1f}'
            }
        }
    },

    credits: {
        enabled: false
    },

    series:[{
        data: arrayAtivosInativos
    }],
    colors: ['#0275d8','#292b2c']
});


</script>